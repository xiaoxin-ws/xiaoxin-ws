import{a as we,u as Ce,d as Be,_ as Se,__tla as Te}from"./index-DuzwVpQO.js";import{s as W}from"./pinia-B53-1xNw.js";import{d as h,ab as k,o as r,c as S,u as g,b as T,r as R,f as ye,S as t,e as a,Y as xe,Q as D,bh as te,a as i,W as V,X as Ae,A as Oe,V as y,w as Ie,D as Pe}from"./@vue-B-Waonw5.js";import{y as Re,z as De,E as Le,a as We,A as Ve,B as le,C as ne,D as se,F as Fe,G as Me,c as Ne}from"./element-plus-7Zm_tKr4.js";import{u as F,b as ue}from"./vue-router-BZRm6vnl.js";let oe,ie,re,ce,de,Ue=Promise.all([(()=>{try{return Te}catch{}})()]).then(async()=>{let M,N,U,X,z,E,$,G,K,Q,Y,j,H,J,Z,q,ee,ae;M=h({name:"CollapsedBtn"}),ie=h({...M,setup(O){const s=we(),{collapse:e,showAsidePane:l,device:n}=W(s),u=()=>{n.value=="mobile"?s.updateSettings({showAsidePane:!l.value}):s.updateSettings({collapse:!e.value})};return(w,m)=>{const o=k("SvgIcon");return r(),S("div",{class:"web-collapse head-btn",onClick:u},[g(e)?(r(),T(o,{key:0,name:"svg_icon-menu-unfold-outlined"})):(r(),T(o,{key:1,name:"svg_icon-menu-fold-outlined"}))])}}}),N=["onClick"],U=h({name:"Breadcrumb"}),re=h({...U,setup(O){const s=F(),e=ue();let l=R();const n=R(!0),u=()=>{if(n.value=!1,e.path&&e.path.indexOf("/redirect")>=0||!e.name)return!1;if(e.meta.allPath){l.value=window.$lodash.cloneDeep(e.meta.allPath),l.value.shift();const m=setTimeout(()=>{n.value=!0,clearTimeout(m)},200)}},w=(m,o)=>{o!=l.value.length-1&&s.push({path:m})};return ye(()=>{u()}),(m,o)=>{const v=Re,f=De;return r(),T(f,{class:"web-breadcrumb"},{default:t(()=>[a(xe,{name:"slide-right",tag:"div",mode:"out-in"},{default:t(()=>[(r(!0),S(D,null,te(g(l),(p,_)=>{var I;return r(),S(D,{key:"breadcrumb"+_},[!((I=p.meta)!=null&&I.notBread)&&g(n)?(r(),T(v,{key:0},{default:t(()=>{var P;return[i("span",{onClick:c=>w(p==null?void 0:p.path,_)},V((P=p.meta)==null?void 0:P.title),9,N)]}),_:2},1024)):Ae("",!0)],64)}),128))]),_:1})]),_:1})}}}),X={class:"web-avatar"},z=["src"],E={class:"user-name"},$=i("a",{target:"_blank",href:"https://github.com/xiaoxin-ws"},"github",-1),G=i("a",{target:"_blank",href:"https://gitee.com/xiaoxin-ws"},"gitee",-1),K=h({name:"Avatar"}),ce=h({...K,setup(O){const s=Ce(),{avatar:e,username:l}=W(s),n=F(),u=Oe(()=>l.value.length>6?l.value.substring(0,6)+"...":l.value),w=()=>{Le({title:"\u9000\u51FA\u767B\u5F55",message:"\u786E\u8BA4\u9000\u51FA\u767B\u5F55\u561B\uFF1F",showCancelButton:!0,confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",beforeClose:(m,o,v)=>{m==="confirm"?(o.confirmButtonLoading=!0,o.confirmButtonText="Loading...",v(),s.loginOut().then(()=>{s.access_token="",s.refresh_token="",n.replace({path:"/login"}).then(()=>{We.success({message:"\u6CE8\u9500\u6210\u529F",duration:2e3}),s.clearUserStore()}).finally(()=>{o.confirmButtonLoading=!1})}).catch(()=>{o.confirmButtonLoading=!1})):v()}})};return(m,o)=>{const v=Ve,f=le,p=ne,_=se;return r(),T(_,{trigger:"click",position:"bl"},{dropdown:t(()=>[a(p,null,{default:t(()=>[a(f,null,{default:t(()=>[$]),_:1}),a(f,null,{default:t(()=>[G]),_:1}),a(f,{divided:"",onClick:w},{default:t(()=>[y("\u9000\u51FA\u767B\u5F55")]),_:1})]),_:1})]),default:t(()=>[i("div",X,[a(v,{size:28},{default:t(()=>[i("img",{alt:"avatar",src:g(e)?g(e):""},null,8,z)]),_:1}),i("span",E,V(g(u)),1)])]),_:1})}}}),Q={class:"tags-view"},Y={class:"tag-label"},j={class:"tag-title"},H={class:"tags-option"},J={class:"tags-option-item"},Z=h({name:"WebTags"}),de=h({...Z,setup(O){const s=F(),e=ue(),l=Be(),{tags:n}=W(l),u=R(),w=({paneName:c})=>{if(e.name==c)return;const d=n.value.find(b=>b.name===c);s.push({path:d.path})},m=()=>{if(e.path&&e.path.indexOf("/redirect")>=0||!e.name)return!1;l.addOne(e)};n.value.length<1&&(u.value=e.name,m()),u.value=e.name,Ie(()=>e.fullPath,()=>{u.value=e.name},{deep:!0});const o=()=>{l.delRight(e)},v=()=>{l.delLeft(e)},f=R(!1),p=()=>{f.value||(f.value=!0,l.delPageOne(e.name),s.replace({path:"/redirect"+e.path}).finally(()=>{const c=setTimeout(()=>{f.value=!1,clearTimeout(c)},1e3)}))},_=c=>{if(n.value.length<2)return;c||(c=e.name);const d=n.value.findIndex(C=>C.name==c),b=n.value.find(C=>C.name==c),L=n.value.length-1;d==-1||!b||(l.delOne(b),e.name==b.name&&(L==d?s.push(n.value[d-1].path):s.push(n.value[d].path)))},I=()=>{n.value.length<2||(l.clearAll(),s.push({path:"/dashboard"}))},P=()=>{l.delOther(e)};return(c,d)=>{const b=Fe,L=Me,C=k("SvgIcon"),fe=k("Close"),x=Ne,A=le,pe=k("DArrowLeft"),he=k("DArrowRight"),ve=k("Operation"),ge=k("Minus"),_e=ne,be=se;return r(),S("div",Q,[a(L,{ref:"tabsViewRef",modelValue:g(u),"onUpdate:modelValue":d[0]||(d[0]=B=>Pe(u)?u.value=B:null),type:"card",onTabClick:w,onTabRemove:_,class:"demo-tabs"},{default:t(()=>[(r(!0),S(D,null,te(g(n),(B,ke)=>(r(),T(b,{key:"tags"+B.name+ke,name:B.name},{label:t(()=>[i("span",Y,[i("span",j,V(B.meta.title),1)])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),i("div",H,[a(be,{trigger:"click",ref:"dropdownRef22"},{dropdown:t(()=>[a(_e,null,{default:t(()=>[a(A,{class:"tags-menu-item",onClick:d[1]||(d[1]=B=>_(null))},{default:t(()=>[a(x,null,{default:t(()=>[a(fe)]),_:1}),y("\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875 ")]),_:1}),a(A,{class:"tags-menu-item",onClick:o},{default:t(()=>[a(x,null,{default:t(()=>[a(pe)]),_:1}),y("\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875 ")]),_:1}),a(A,{class:"tags-menu-item",onClick:v},{default:t(()=>[a(x,null,{default:t(()=>[a(he)]),_:1}),y("\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875 ")]),_:1}),a(A,{class:"tags-menu-item",onClick:P},{default:t(()=>[a(x,null,{default:t(()=>[a(ve)]),_:1}),y("\u5173\u95ED\u5176\u4ED6\u6807\u7B7E\u9875 ")]),_:1}),a(A,{class:"tags-menu-item",onClick:I},{default:t(()=>[a(x,null,{default:t(()=>[a(ge)]),_:1}),y("\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875 ")]),_:1})]),_:1})]),default:t(()=>[i("div",J,[a(C,{class:"dropdown-label",name:"el_menu"})])]),_:1},512),i("div",{class:"tags-option-item",onClick:p},[a(C,{name:"svg_icon-RefreshFilled"})])])])}}}),q=h({name:"WebFooter"}),ee=i("div",null,"\u7248\u6743\u58F0\u660E",-1),ae=i("div",null,"\u672C\u9879\u76EE\u7531\u4F5C\u8005:XIAOXIN-WS\u5F00\u53D1\u5B8C\u6210,\u91C7\u7528MIT\u534F\u8BAE\u8FDB\u884C\u5F00\u6E90\u3002",-1);function me(O,s,e,l,n,u){return r(),S(D,null,[ee,ae],64)}oe=Se(q,[["render",me]])});export{oe as W,ie as _,Ue as __tla,re as a,ce as b,de as c};
